; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: %riscv64_bakewell_hybrid_llc < %s \
; RUN:   | FileCheck --check-prefix=RV64LEGACY %s
define dso_local signext i64 @pointertointeger(i8 addrspace(200)* noundef %cap) addrspace(200) {
; RV64LEGACY-LABEL: pointertointeger:
; RV64LEGACY:       # %bb.0: # %entry
; RV64LEGACY-NEXT:    gctag a1, ca0
; RV64LEGACY-NEXT:    neg a1, a1
; RV64LEGACY-NEXT:    and a0, a0, a1
; RV64LEGACY-NEXT:    ret
entry:
    %ptr.int = ptrtoint i8 addrspace(200)* %cap to i64
    ret i64 %ptr.int
}
