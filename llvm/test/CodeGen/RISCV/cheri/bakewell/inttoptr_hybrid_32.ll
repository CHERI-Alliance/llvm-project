; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: %riscv32_bakewell_hybrid_llc -verify-machineinstrs < %s \
; RUN:   | FileCheck --check-prefix=RV32LEGACY %s

define dso_local i8 addrspace(200)* @inttopointer(i32 %integer) addrspace(200) {
; RV32LEGACY-LABEL: inttopointer:
; RV32LEGACY:       # %bb.0: # %entry
; RV32LEGACY-NEXT:    csrrc ca1, ddc, zero
; RV32LEGACY-NEXT:    bnez a0, .LBB0_2
; RV32LEGACY-NEXT:  # %bb.1: # %entry
; RV32LEGACY-NEXT:    cmv ca0, cnull
; RV32LEGACY-NEXT:    ret
; RV32LEGACY-NEXT:  .LBB0_2:
; RV32LEGACY-NEXT:    scaddr ca0, ca1, a0
; RV32LEGACY-NEXT:    ret
entry:
    %ptr = inttoptr i32 %integer to i8 addrspace(200)*
    ret i8 addrspace(200)* %ptr
}
