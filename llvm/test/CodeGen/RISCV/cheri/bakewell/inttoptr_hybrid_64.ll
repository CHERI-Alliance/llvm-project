; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: %riscv64_bakewell_hybrid_llc < %s \
; RUN:   | FileCheck --check-prefix=RV64LEGACY %s
define dso_local i8 addrspace(200)* @inttopointer(i64 %integer) addrspace(200) {
; RV64PURECAP-LABEL: inttopointer:
; RV64LEGACY-LABEL: inttopointer:
; RV64LEGACY:       # %bb.0: # %entry
; RV64LEGACY-NEXT:    csrrc ca1, ddc, zero
; RV64LEGACY-NEXT:    bnez a0, .LBB0_2
; RV64LEGACY-NEXT:  # %bb.1: # %entry
; RV64LEGACY-NEXT:    cmv ca0, cnull
; RV64LEGACY-NEXT:    ret
; RV64LEGACY-NEXT:  .LBB0_2:
; RV64LEGACY-NEXT:    scaddr ca0, ca1, a0
; RV64LEGACY-NEXT:    ret
entry:
    %ptr = inttoptr i64 %integer to i8 addrspace(200)*
    ret i8 addrspace(200)* %ptr
}

