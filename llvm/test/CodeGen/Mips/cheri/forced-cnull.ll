; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: %cheri_purecap_llc %s -o - | FileCheck %s
; This is reduced from FreeBSD's crt1.c and triggered a segfault. Check we
; don't try to remove the cgetnull for the inline assembly's operand.

; Function Attrs: nounwind
define void @cgetnull_asm() addrspace(200) #0 {
; CHECK-LABEL: cgetnull_asm:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    cgetnull $c1
; CHECK-NEXT:    #APP
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    cjr $c17
; CHECK-NEXT:    nop
entry:
  call void asm sideeffect "", "C,~{$1}"(ptr addrspace(200) null)
  ret void
}

attributes #0 = { nounwind }
